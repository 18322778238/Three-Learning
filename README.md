## Three 教程

### 在 Three.js 中使用光源

- THREE.AmbientLight：这是一个基本的灯光，其颜色将被添加到场景中对象的当前颜色中。
- THREE.PointLight： 这是空间中的一个单点，光从它向各个方向扩散。此灯光可用于创建阴影。
- THREE.SpotLight：这种光源有一种圆锥状的效果，比如台灯、天花板上的聚光灯或手电筒。这种光可以投射阴影。
- THREE.DirectionalLight：这也被称为无限的光。来自这种光的光线可以被看作是平行的，类似于来自太阳的光。此灯光也可用于创建阴影。
- THREE.HemisphereLight：这是一种特殊的光，可以通过模拟反射表面和微弱明亮的照明天空来创造更自然的户外照明。此灯也不提供任何与阴影相关的功能
- THREE.RectAreaLight： 使用此光源，您可以指定光发出的区域，而不是空间中的单个点。三种。记录的光线不会投射任何阴影。
- THREE.LightProbe： 这是一种特殊的光源，根据所使用的环境贴图，创建一个动态的环境光源来照亮场景。
- THREE.LensFlare： 这不是一个光源，而是有三个光源。镜头闪光效果，您可以为场景中的灯光添加镜头闪光效果。

#### 光的行为的属性

| 名称       | 描述                                                                                                                                                                                                                                                                      |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Angle      | 确定从光中产生的光束的宽度。宽度以弧度表示，默认为数学。PI/3。                                                                                                                                                                                                            |
| castShadow | 如果设置为 true，则应用该属性的灯光将创建阴影。有关如何配置阴影，请参见下表                                                                                                                                                                                               |
| Color      | 指示灯光的颜色。                                                                                                                                                                                                                                                          |
| decay      | 表示您离光源越远，光源强度减小的量。衰减为 2 会产生更真实的光，默认值为 1。此属性仅在 WebGL 渲染器上设置物理修正灯光属性时有效。                                                                                                                                          |
| distance   | 当此属性设置为非 0 值时，光强度将从光位置处的设置强度线性减小到指定距离处的 0。                                                                                                                                                                                           |
| intensity  | 指示光线照射的强度。该属性的默认值为 1。                                                                                                                                                                                                                                  |
| penumbra   | 表示聚光灯硬币边缘的百分比，使其平滑（模糊）为 0。它取一个介于 0 和 1 之间的值，其中默认值为 0。                                                                                                                                                                          |
| power      | 表示在物理正确模式下渲染时灯光的功率（通过在 WebGL 渲染器上设置“physicallyCorrectLights”属性来启用此功能）。此属性以流明为单位进行测量，默认值为 4\*Math.PI.                                                                                                              |
| position   | 指示灯在 THREE.Scene 中的位置                                                                                                                                                                                                                                             |
| target     | 有 THREE.SpotLight，光指向的方向很重要。使用目标属性，您可以指 THREE.SpotLight 来查看场景中的特定物体或位置。请注意，此属性需要一个 THREE.Object3D 对象(如一个 THREE.Mesh)。这与我们在第二章中看到的摄像头形成了鲜明对比，后者使用了 THREE.Vector3 在其查找函数中的作用。 |
| visible    | 如果此属性设置为 true(默认），则灯将打开，如果设置为 false，则灯将关闭。                                                                                                                                                                                                  |

#### THREE.SpotLight 对象的特性

| 名称                                           | 描述                                                                                                                                                                                                           |
| ---------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| shadow.bias                                    | 将投射的阴影移开或朝向投射阴影的对象。当您使用非常薄的对象时，您可以使用它来解决一些奇怪的效果。如果您在模型上看到了奇怪的阴影效果，那么这个属性的小值（例如，0.01）通常可以解决这个问题。此属性的默认值为 0。 |
| shadow.camera.far                              | 确定应创建的距离灯光阴影的距离。默认值为 5000。请注意，您还可以设置为 THREE.PerspectiveCamera 提供的所有其他属性。我们在第二章中展示过。                                                                       |
| shadow.camera.fov                              | 确定用于创建阴影的视场的大小（请参见第 2 章中的“对不同的场景使用不同的摄像机”部分）。默认值为 50。                                                                                                             |
| shadow.camera.near                             | 确定应创建的距离灯光阴影的距离。默认值为 50。                                                                                                                                                                  |
| shadow.mapSize.width and shadow.mapSize.height | 确定使用了多少个像素来创建阴影。当阴影有锯齿状的边或看起来不平滑时，增加这些值。这在场景被渲染后就不能被更改了。两者的默认值都是 512。                                                                         |
| shadow.radius                                  | 当该值设置为高于 1 时，阴影的边缘将变得模糊。如果将 THREE.WebGlRenderer 的 shadowMap.type 属性设置为 THRE.BasicShadowMap，则不会有任何效果。                                                                   |

#### THREE.PointLight 点光源属性

| 名称      | 描述                                                                                                                                                                                                           |
| --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| color     | 这个光源发出的光的颜色。                                                                                                                                                                                       |
| distance  | 指示光线照射到的距离。默认值为 0，这意味着光的强度不会根据距离而降低。                                                                                                                                         |
| intensity | 指示光线照射的强度。默认为 1。                                                                                                                                                                                 |
| position  | 指示灯光在 THRE.Scene 中的位置。                                                                                                                                                                               |
| visible   | 确定指示灯是关闭还是点亮。如果此属性设置为 true(默认），则此灯将打开，如果设置为 false，则该灯将关闭。                                                                                                         |
| decay     | 指示离光源越远，光强度减小的量。衰减为 2 会产生更逼真的灯光，默认值为 1。只有当 physicallyCorrectLights 属性是在 WebGLRenderer 上设置的。                                                                      |
| power     | 指在物理正确模式下渲染时灯光的功率（通过将 physicalyCorrectLights 属性设置为打开来启用此功能 WebGLRenderer）。此特性以流明和默认值为单位测量是 4*Math.PI.。功率也与强度特性直接相关（(power = intensity * 4π） |
